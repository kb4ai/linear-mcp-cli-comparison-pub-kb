# Research Process

This document describes the methodology for conducting tool comparison research.

> **For step-by-step instructions, see [CONTRIBUTING.md](CONTRIBUTING.md)**

## Prerequisites

Before starting research, complete:

1. [ ] Fill out [SCOPE.md.template](SCOPE.md.template) and rename to `SCOPE.md`
2. [ ] Customize [spec.yaml](spec.yaml) with your fields
3. [ ] Commit and tag: `git tag -a scope-defined -m "Research scope defined"`

## Workflow Overview

```
1. Define Scope  →  2. Discover  →  3. Clone  →  4. Analyze  →  5. Compare
   (SCOPE.md)        (search)       (script)     (manual)       (generate)
```

## Phase 1: Define Scope

Fill out `SCOPE.md` to establish:

* Research question(s)
* In-scope vs out-of-scope projects
* Categories for classification
* Data points to collect
* Search strategy

## Phase 2: Discovery

Search for projects using strategies defined in SCOPE.md:

* GitHub searches with relevant keywords
* Package registries (npm, PyPI, crates.io)
* Awesome lists and community resources
* Official integration pages

Record findings in `ramblings/YYYY-MM-DD--discovery.md`.

For each project found:

```bash
# Create YAML file
touch projects/{owner}--{repo}.yaml

# Add minimum required fields
cat > projects/{owner}--{repo}.yaml << 'EOF'
last-update: "YYYY-MM-DD"
repo-url: "https://github.com/owner/repo"
name: "repo-name"
description: "Brief description"
EOF
```

## Phase 3: Clone Repositories

```bash
# Clone all repos to tmp/ for analysis
./scripts/clone-all.sh

# Update existing clones
./scripts/clone-all.sh --update
```

## Phase 4: Analyze

For each repository, examine:

1. **README.md**: Features, usage, installation
2. **Code structure**: Architecture, dependencies, quality
3. **Security** (if applicable): Dangerous patterns, input validation
4. **Documentation**: Quality, completeness, examples
5. **Tests**: Coverage, quality

Update the YAML file with your findings.

### Analysis Commands

```bash
cd tmp/{owner}--{repo}

# Get current commit
git rev-parse --short HEAD

# Check language composition
find . -name "*.ts" -o -name "*.py" -o -name "*.go" | head -20

# Count test files
find . -name "*test*" -o -name "*spec*" | wc -l

# Check documentation
ls -la docs/ README* 2>/dev/null
```

## Phase 5: Generate Comparisons

```bash
# Validate all YAML files
./scripts/check-yaml.py

# Generate comparison tables
./scripts/generate-tables.py > comparisons/auto-generated.md
```

## Data Sources

### Primary Fields

| Field | Source |
|-------|--------|
| `stars`, `forks` | GitHub API or web |
| `last-commit` | `git log -1` or GitHub |
| `repo-commit` | Current HEAD when analyzing |
| `language` | GitHub repo page |
| `license` | LICENSE file or GitHub |

### Analysis Fields

| Field | Source |
|-------|--------|
| `features` | README + code inspection |
| `security.*` | Manual code review |
| `documentation.*` | Manual inspection |

## Using yq for Data Extraction

```bash
# List all projects with their stars
for f in projects/*.yaml; do
  name=$(yq '.name // "unknown"' "$f")
  stars=$(yq '.stars // 0' "$f")
  echo "$name: $stars"
done | sort -t: -k2 -rn

# Get all projects in a category
for f in projects/*.yaml; do
  if yq -e '.category == "cli-client"' "$f" 2>/dev/null; then
    echo "$f"
  fi
done
```

## Freshness Policy

* Re-check star counts monthly
* Re-analyze repos when major versions released
* Always update `last-update` when modifying YAML
* Track `repo-commit` for analysis versioning

## Maintenance Schedule

### Monthly Tasks

1. Update star counts for all projects
2. Check for new releases
3. Regenerate tables

### Quarterly Tasks

1. Run new discovery searches
2. Re-analyze projects with significant changes
3. Archive abandoned projects (no commits in 6+ months)

## Output Files

| File | Generated By | Purpose |
|------|--------------|---------|
| `comparisons/auto-generated.md` | `generate-tables.py` | Main comparison tables |
| `ramblings/*.md` | Manual | Research notes |

## Related Documents

* [SCOPE.md](SCOPE.md) - Your research scope definition
* [CONTRIBUTING.md](CONTRIBUTING.md) - Step-by-step contribution guide
* [GUIDELINES.md](GUIDELINES.md) - Data collection standards
* [spec.yaml](spec.yaml) - YAML schema for project files
